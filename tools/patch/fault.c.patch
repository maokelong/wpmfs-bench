--- linux-4.19.49-raw/arch/x86/mm/fault.c	2019-06-09 00:17:25.000000000 -0700
+++ linux-4.19.49/arch/x86/mm/fault.c	2020-03-07 08:24:58.553089238 -0800
@@ -1119,6 +1119,22 @@
 	pte = pte_offset_kernel(pmd, address);
 	if (!pte_present(*pte))
 		return 0;
+	
+	// mkl: look at me
+	if ((error_code == (X86_PF_WRITE | X86_PF_PROT)) &&
+		(address >= VMALLOC_START && address < VMALLOC_END)) {
+
+		while (!pte_write(*pte)) {
+			static long long loop_counter = 0;
+			extern void msleep(unsigned int msecs);
+			if(!(loop_counter++ % (2 << 30)))
+				printk(KERN_ALERT "wpmfs: address = %lx, *pfn = 0x%lx.\n",
+								address, (*pte).pte);
+				msleep(0);
+		}
+
+		return 1;
+	}
 
 	ret = spurious_fault_check(error_code, pte);
 	if (!ret)
